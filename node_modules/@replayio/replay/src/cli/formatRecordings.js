"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.formatAllRecordingsJson = exports.formatAllRecordingsHumanReadable = void 0;
/*
 * This module is responsible for formatting recordings that are going to be printed to the console.
 */
const text_table_1 = __importDefault(require("text-table"));
const generateDefaultTitle_1 = require("../generateDefaultTitle");
function formatAllRecordingsHumanReadable(recordings) {
    // sort by created at date
    recordings.sort((a, b) => {
        return b.createTime.getTime() - a.createTime.getTime();
    });
    const formattedRecordings = recordings.map(recording => {
        var _a;
        const title = typeof ((_a = recording.metadata) === null || _a === void 0 ? void 0 : _a.title) === "string"
            ? recording.metadata.title
            : (0, generateDefaultTitle_1.generateDefaultTitle)(recording.metadata);
        return [recording.id, recording.status, title || "", recording.createTime.toISOString()];
    });
    const tableBody = [
        ["ID", "Status", "Title", "Created At"],
        ...formattedRecordings,
    ];
    return (0, text_table_1.default)(tableBody);
}
exports.formatAllRecordingsHumanReadable = formatAllRecordingsHumanReadable;
function formatAllRecordingsJson(recordings) {
    return JSON.stringify(recordings, null, 2);
}
exports.formatAllRecordingsJson = formatAllRecordingsJson;
//# sourceMappingURL=formatRecordings.js.map